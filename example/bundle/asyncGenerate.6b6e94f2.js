function e(e,r,n,o){Object.defineProperty(e,r,{get:n,set:o,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},t=r.parcelRequire4485;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in o){var r=o[e];delete o[e];var t={id:e,exports:{}};return n[e]=t,r.call(t.exports,t,t.exports),t.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){o[e]=r},r.parcelRequire4485=t),t.register("27Lyk",(function(r,n){var o,t;e(r.exports,"register",(()=>o),(e=>o=e)),e(r.exports,"resolve",(()=>t),(e=>t=e));var i={};o=function(e){for(var r=Object.keys(e),n=0;n<r.length;n++)i[r[n]]=e[r[n]]},t=function(e){var r=i[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),t("27Lyk").register(JSON.parse('{"bEy7u":"asyncGenerate.6b6e94f2.js","b4BBl":"generateAsync.worker.5bf93d10.js"}')),t.register("8todg",(function(r,n){e(r.exports,"GenerateMeshBVHWorker",(()=>s));var o=t("ilwiq"),i=t("ff8ed");class s{constructor(){this.running=!1,this.worker=new Worker(t("3BGz5")),this.worker.onerror=e=>{throw e.message?new Error(`GenerateMeshBVHWorker: Could not create Web Worker with error "${e.message}"`):new Error("GenerateMeshBVHWorker: Could not create Web Worker.")}}generate(e,r={}){if(this.running)throw new Error("GenerateMeshBVHWorker: Already running job.");if(null===this.worker)throw new Error("GenerateMeshBVHWorker: Worker has been disposed.");const{worker:n}=this;return this.running=!0,new Promise(((t,s)=>{n.onerror=e=>{s(new Error(`GenerateMeshBVHWorker: ${e.message}`)),this.running=!1},n.onmessage=a=>{this.running=!1;const{data:u}=a;if(u.error)s(new Error(u.error)),n.onmessage=null;else if(u.serialized){const{serialized:s,position:a}=u,l=i.MeshBVH.deserialize(s,e,{setIndex:!1}),f=Object.assign({setBoundingBox:!0},r);if(e.attributes.position.array=a,e.index)e.index.array=s.index;else{const r=new o.BufferAttribute(s.index,1,!1);e.setIndex(r)}f.setBoundingBox&&(e.boundingBox=l.getBoundingBox(new o.Box3)),t(l),n.onmessage=null}else r.onProgress&&r.onProgress(u.progress)};const a=e.index?e.index.array:null,u=e.attributes.position.array;if(u.isInterleavedBufferAttribute||a&&a.isInterleavedBufferAttribute)throw new Error("GenerateMeshBVHWorker: InterleavedBufferAttribute are not supported for the geometry attributes.");const l=[u];a&&l.push(a),n.postMessage({index:a,position:u,options:{...r,onProgress:null,includedProgressCallback:Boolean(r.onProgress),groups:[...e.groups]}},l.map((e=>e.buffer)).filter((e=>"undefined"==typeof SharedArrayBuffer||!(e instanceof SharedArrayBuffer))))}))}dispose(){this.worker.terminate(),this.worker=null}}})),t.register("3BGz5",(function(e,r){var n=t("7ryUf");let o=new URL(t("27Lyk").resolve("b4BBl"),import.meta.url);e.exports=n(o.toString(),o.origin,!0)})),t.register("7ryUf",(function(e,r){e.exports=function(e,r,n){if(r===self.location.origin)return e;var o=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))}}));
//# sourceMappingURL=asyncGenerate.6b6e94f2.js.map
